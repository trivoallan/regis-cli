{% extends theme ~ "/base.html" %}
{% import theme ~ "/macros.html" as m %}

{% block scorecard %}
    {% for sc in report.scorecards %}
        {% include theme ~ "/scorecards/default.html" %}
    {% endfor %}
{% endblock %}

{% block content %}
    {% if report.metadata %}
    <div class="card meta-section">
        <h2 class="card-title">Metadata</h2>
        <table class="meta-table">
            <tbody>
                {% for key, value in report.metadata.items() %}
                <tr>
                    <td class="label">{{ key|e }}</td>
                    <td class="value">{{ value|e }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endif %}

    {% for name, data in report.results.items()|sort %}
        {% if data.error %}
            {{ m.error_card(name, data.error) }}
        {% else %}
            {% include [theme ~ "/analyzers/" ~ name ~ ".html", theme ~ "/analyzers/default.html"] %}
        {% endif %}
    {% endfor %}
{% endblock %}
