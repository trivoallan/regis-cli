{% import theme ~ "/macros.html" as m %}

{% call m.section("Size", "ðŸ“¦") %}
    <div class="card-title-main">
        {{ data.total_compressed_human|default('?')|e }}
    </div>
    <div class="text-muted" style="margin-bottom: 12px;">
        {{ data.layer_count|default(0) }} layer(s)
        {% if data.multi_arch %} Â· multi-arch{% endif %}
    </div>

    {% if data.layers %}
        <table>
            <thead>
                <tr>
                    <th>Layer</th>
                    <th>Size</th>
                </tr>
            </thead>
            <tbody>
                {% for l in data.layers %}
                <tr>
                    <td>{{ l.index }}</td>
                    <td>{{ l.size_human|e }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% if data.platforms %}
        <table>
            <thead>
                <tr>
                    <th>Platform</th>
                    <th>Size</th>
                    <th>Layers</th>
                </tr>
            </thead>
            <tbody>
                {% for p in data.platforms %}
                <tr>
                    <td>{{ p.platform|e }}</td>
                    <td>{{ p.compressed_human|e }}</td>
                    <td>{{ p.layer_count }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endcall %}
